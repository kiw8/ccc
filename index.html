<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no" />
    <meta name="description" content="" />
    <meta name="author" content="" />
    <title>Small Business - Start Bootstrap Template</title>
    <link rel="icon" type="image/x-icon" href="assets/favicon.ico" />
    <link href="css/styles.css" rel="stylesheet" />
</head>
<body>
    <!-- Responsive navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container px-5">
            <a class="navbar-brand" href="index.html">Autocal</a>
            <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" 
                aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                <span class="navbar-toggler-icon"></span>
            </button>
            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                <ul class="navbar-nav ms-auto mb-2 mb-lg-0">
                    <li class="nav-item"><a class="nav-link active" aria-current="page" href="index.html">Home</a></li>
                    <li class="nav-item"><a class="nav-link" href="#">Username</a></li>
                    <li class="nav-item"><a class="nav-link" href="pages/logout.html">Logout</a></li>
                </ul>
            </div>
        </div>
    </nav>

    <!-- Page Content-->
    <div class="container px-4 px-lg-5">
        <!-- Heading Row-->
        <div class="row gx-4 gx-lg-5 align-items-center my-5">
            <div class="col-lg-7">
                <video id="webcam" autoplay playsinline class="img-fluid rounded mb-4 mb-lg-0"></video>
                <button id="start-webcam" class="btn btn-primary mt-2">캠 시작</button>
            </div>
            <div class="col-lg-5">
                <h1 class="font-weight-light">오늘의 식단</h1>
                <p>이 템플릿은 소규모 비즈니스에 적합합니다. 기본 Bootstrap 핵심 구성 요소를 잘 활용하고 있어요. 이 템플릿을 사용해서 프로젝트를 시작해보세요!</p>
                <a class="btn btn-primary" href="meal-entry.html">먹은 것 입력하기</a>
            </div>
        </div>

        <script>
        document.getElementById('start-webcam').addEventListener('click', function () {
            const videoElement = document.getElementById('webcam');
            if (navigator.mediaDevices && navigator.mediaDevices.getUserMedia) {
                navigator.mediaDevices.getUserMedia({ video: true })
                    .then(function (stream) {
                        videoElement.srcObject = stream;
                    })
                    .catch(function (error) {
                        console.error("웹캠을 활성화할 수 없습니다:", error);
                        alert("웹캠 권한을 허용해주세요!");
                    });
            } else {
                alert("현재 브라우저는 웹캠 기능을 지원하지 않습니다. 최신 브라우저를 사용해주세요.");
            }
        });
        </script>

        <!-- 최근에 먹은 음식 카드 -->
        <div class="col-12 col-md-6 mb-5">
            <div class="card h-100">
                <div class="card-body p-3">
                    <h4 class="card-title">최근에 먹은 음식</h4>
                    <ul class="list-group">
                        <li class="list-group-item">Apple = 95 kcal</li>
                        <li class="list-group-item">Banana = 105 kcal</li>
                        <li class="list-group-item">Orange = 62 kcal</li>
                        <li class="list-group-item">Bread = 120 kcal</li>
                        <li class="list-group-item">Milk = 150 kcal</li>
                    </ul>
                </div>
            </div>
        </div>

        <!-- 섭취 가능한 칼로리가 100 이하일 때 경고 메시지 -->
        <div class="alert alert-warning text-center mt-3">
            오늘 목표한 칼로리에 도달합니다! 섭취할 수 있는 칼로리가 90 kcal 입니다.
        </div>
        
        <!-- Call to Action-->
        <div class="card text-white bg-secondary my-5 py-4 text-center">
            <div class="card-body"><p class="text-white m-0">중요한 정보를 표시할 좋은 공간이에요!</p></div>
        </div>
        <!-- Content Row-->
        <div class="row gx-4 gx-lg-5">
            <div class="col-md-4 mb-5">
                <div class="card h-100">
                    <div class="card-body">
                        <h2 class="card-title">목표 칼로리</h2>
                        <p>목표를 설정하고 건강한 식습관을 유지하세요!</p>
                    </div>
                    <div class="card-footer"><a class="btn btn-primary btn-sm" href="pages/calorie-setting.html">More Info</a></div>
                </div>
            </div>
            
            <div class="col-md-4 mb-5">
                <div class="card h-100">
                    <div class="card-body">
                        <h2 class="card-title">식단기록</h2>
                        <p>식단 기록을 통해 건강한 습관을 관리하세요!</p>
                    </div>
                    <div class="card-footer"><a class="btn btn-primary btn-sm" href="pages/meal-record.html">More Info</a></div>
                </div>
            </div>
        </div>
    </div>

    <!-- Footer-->
    <footer class="py-5 bg-dark">
        <div class="container px-4 px-lg-5"><p class="m-0 text-center text-white">Copyright &copy; Your Website 2023</p></div>
    </footer>
    <!-- Bootstrap core JS-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.3/dist/js/bootstrap.bundle.min.js"></script>
    <script src="js/scripts.js"></script>
</body>
</html>
